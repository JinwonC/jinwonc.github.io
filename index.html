<script type="text/javascript">
var _iub = _iub || [];
_iub.csConfiguration = {"siteId":4192019,"cookiePolicyId":27003674,"lang":"en","storage":{"useSiteId":true}};
</script>
<script type="text/javascript" src="https://cs.iubenda.com/autoblocking/4192019.js"></script>
<script type="text/javascript" src="//cdn.iubenda.com/cs/gpp/stub.js"></script>
<script type="text/javascript" src="//cdn.iubenda.com/cs/iubenda_cs.js" charset="UTF-8" async></script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-65HLTCQKR5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-65HLTCQKR5');
</script>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seapuri Official Stores - Country Finder</title>
    <!-- GitHub Actions 자동 배포 테스트 -->
    <style>
        /* Basic reset and body styling */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(to bottom, #4ca7c3 0%, #2856a3 100%);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background: none;
            margin-top: 40px;
            padding: 24px 12px 18px 12px;
            border-radius: 12px;
            box-shadow: none;
            width: 100%;
            max-width: 400px;
            box-sizing: border-box;
        }
        h1 {
            text-align: center;
            color: #fff;
            margin-bottom: 18px;
            font-size: 2.2rem;
            font-weight: bold;
            letter-spacing: 0.02em;
        }
        label {
            font-size: 1rem;
            color: #fff;
        }
        input[type="text"] {
            width: 100%;
            padding: 14px 14px;
            margin: 10px 0 18px 0;
            border: 1px solid #cfd8dc;
            border-radius: 6px;
            font-size: 1.1rem;
            box-sizing: border-box;
            background: rgba(255,255,255,0.12);
            color: #fff;
        }
        input[type="text"]::placeholder {
            color: #e0e7ef;
            opacity: 1;
        }
        button {
            width: 100%;
            padding: 14px;
            background: #4f8cff;
            color: #fff;
            border: none;
            border-radius: 6px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background 0.2s;
        }
        button:hover, button:active {
            background: #2563eb;
        }
        .results {
            margin-top: 24px;
        }
        .results ul {
            list-style: none;
            padding: 0;
        }
        .results li {
            margin-bottom: 12px;
        }
        .results a {
            color: #fff;
            text-decoration: underline;
            font-weight: 500;
            word-break: break-all;
        }
        .results a:hover {
            text-decoration: underline;
            color: #e0e7ef;
        }
        .no-results {
            color: #fff;
            text-align: center;
            margin-top: 12px;
        }
        /* Autocomplete dropdown mobile-friendly */
        #autocomplete-dropdown {
            font-size: 1.05rem;
            max-height: 220px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            background: rgba(255,255,255,0.98);
            color: #222;
            border: 1px solid #4f8cff;
        }
        #autocomplete-dropdown div {
            padding: 14px 12px;
            color: #222;
        }
        #autocomplete-dropdown div.active, #autocomplete-dropdown div:hover {
            background: #e0e7ef;
            color: #222;
        }
        .seapuri-logo {
            width: 120px;
            height: 120px;
            background: #10245a;
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0 auto 18px auto;
            font-weight: 400;
            letter-spacing: 0.01em;
            box-shadow: 0 2px 12px rgba(16,36,90,0.08);
        }
        .seapuri-logo-img {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 18px auto;
        }
        .seapuri-logo-img img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 50%;
            box-shadow: 0 2px 12px rgba(16,36,90,0.08);
            background: #10245a;
            display: block;
        }
        @media (max-width: 600px) {
            .container {
                margin-top: 16px;
                padding: 14px 2vw 12px 2vw;
                max-width: 98vw;
            }
            h1 {
                font-size: 1.5rem;
            }
            input[type="text"], button {
                font-size: 1rem;
                padding: 12px;
            }
            #autocomplete-dropdown {
                font-size: 1rem;
            }
            .seapuri-logo {
                width: 80px;
                height: 80px;
                font-size: 1.2rem;
            }
            .seapuri-logo-img img {
                width: 80px;
                height: 80px;
            }
        }
    </style>
    <style>
    /* 모바일에서 배너 2개씩 보이게 */
    @media (max-width: 600px) {
      .banner-link {
        flex: 0 0 48% !important;
        max-width: 48% !important;
        min-width: 0 !important;
        margin: 1% !important;
        padding: 4px 2px !important;
      }
      .banner-link img {
        max-width: 100% !important;
        max-height: 40px !important;
      }
    }
    </style>
</head>
<body>
    <div class="container">
        <div class="seapuri-logo-img">
            <img src="logo.png" alt="Seapuri Logo" />
        </div>
        <h1>Seapuri Official Stores</h1>
        <form id="countryForm">
            <label for="countryInput">Enter your country:</label>
            <input type="text" id="countryInput" name="country" placeholder="e.g., Saudi Arabia" required />
            <button type="submit">Show</button>
        </form>
        <div class="results" id="results"></div>
    </div>
    <script>
        // OLIVE YOUNG Global 배송국가 리스트
        const oliveYoungCountries = [
            "AMERICAN SAMOA","AUSTRALIA","AUSTRIA","BAHRAIN","BELGIUM","BOLIVIA","BULGARIA","CAMBODIA","CANADA","CHILE","CHINA, MAINLAND","COLOMBIA","CYPRUS","CZECH REPUBLIC","DENMARK","FINLAND","FRANCE","GERMANY","GREECE","GUAM","GUERNSEY","HONGKONG","HUNGARY","ICELAND","INDONESIA","IRELAND","ISRAEL","ITALY","JAPAN","KAZAKHSTAN","KOREA, REPUBLIC OF","LUXEMBOURG","MACAU","MALAYSIA","MEXICO","MONGOLIA","NETHERLANDS","NEW ZEALAND","NORTHERN MARIANA ISLANDS","NORWAY","OMAN","PHILIPPINES","POLAND","PORTUGAL","PUERTO RICO","QATAR","ROMANIA","SAUDI ARABIA","SINGAPORE","SLOVENIA","SRI LANKA","SWEDEN","SWITZERLAND","TAIWAN","TANZANIA","THAILAND","UNITED ARAB EMIRATES","UNITED KINGDOM","UNITED STATES","URUGUAY","VENEZUELA","VIETNAM","VIRGIN ISLANDS"
        ];
        // StyleKorean 배송국가 리스트
        const styleKoreanCountries = [
            "ALBANIA","ALGERIA","AMERICAN SAMOA","ANDORRA","ANGOLA","ANGUILLA","ANTIGUA","ARMENIA","ARUBA","AUSTRALIA","AUSTRIA","AZERBAIJAN","BAHAMAS","BAHRAIN","BANGLADESH","BARBADOS","BELGIUM","BELIZE","BENIN","BERMUDA","BHUTAN","BOLIVIA","BONAIRE","BOSNIA AND HERZEGOVINA","BOTSWANA","BRUNEI","BULGARIA","BURUNDI","CAMBODIA","CAMEROON","CANADA","CAPE VERDE","CENTRAL AFRICAN","CHAD","COMOROS","CONGO","CONGO, DPR","COOK ISLANDS","COSTA RICA","COTE D IVOIRE","CROATIA","CURACAO","CYPRUS","CZECH REPUBLIC","DENMARK","DJIBOUTI","DOMINICA","DOMINICAN REPUBLIC","EGYPT","EL SALVADOR","ERITREA","ESTONIA","ETHIOPIA","FALKLAND ISLANDS","FAROE ISLANDS","FIJI","FINLAND","FRANCE","FRENCH GUYANA","GABON","GAMBIA","GEORGIA","GERMANY","GHANA","GIBRALTAR","GREENLAND","GRENADA","GUADELOUPE","GUAM","GUATEMALA","GUERNSEY","GUINEA REPUBLIC","GUINEA-BISSAU","GUINEA-EQUATORIAL","GUYANA","HONDURAS","HONGKONG","HUNGARY","ICELAND","IRELAND","ITALY","JAMAICA","JERSEY","JORDAN","KAZAKHSTAN","KENYA","KIRIBATI","KOSOVO","KUWAIT","KYRGYZSTAN","LAOS","LATVIA","LESOTHO","LIBERIA","LIECHTENSTEIN","LITHUANIA","LUXEMBOURG","MADAGASCAR","MALAWI","MALAYSIA","MALDIVES","MALI","MALTA","MARTINIQUE","MAURITANIA","MAURITIUS","MAYOTTE","MICRONESIA","MOLDOVA","MONACO","MONGOLIA","MONTENEGRO","MONTSERRAT","MOZAMBIQUE","NAMIBIA","NAURU","NEPAL","NETHERLANDS","NEVIS","NEW ZEALAND","NICARAGUA","NIGER","NIGERIA","NIUE","NORTH MACEDONIA","NORWAY","OMAN","PAKISTAN","PALAU","PANAMA","PAPUA NEW GUINEA","PARAGUAY","PHILIPPINES","POLAND","PUERTO RICO","QATAR","REUNION","ROMANIA","RWANDA","SAN MARINO","SAO TOME AND PRINCIPE","SAUDI ARABIA","SENEGAL","SERBIA","SEYCHELLES","SIERRA LEONE","SINGAPORE","SLOVENIA","SOLOMON ISLANDS","SOUTH AFRICA","SOUTH SUDAN","SRI LANKA","ST. BARTHELEMY","ST. EUSTATIUS","ST. KITTS","ST. LUCIA","ST. MAARTEN","ST. VINCENT","SURINAME","SWAZILAND","SWEDEN","SWITZERLAND","TAHITI","TAIWAN","TAJIKISTAN","TANZANIA","TIMOR-LESTE","TOGO","TONGA","TRINIDAD AND TOBAGO","TUNISIA","TURKMENISTAN","TURKS AND CAICOS","TUVALU","UGANDA","UNITED ARAB EMIRATES","UNITED KINGDOM","UNITED STATES","URUGUAY","VANUATU","VATICAN CITY","VIETNAM","VIRGIN ISLANDS-BRITISH","VIRGIN ISLANDS-US","ZAMBIA","ZIMBABWE"
        ];
        // YesStyle 배송국가 리스트
        const yesStyleCountries = [
            "ALGERIA","ANDORRA","ANGOLA","ARGENTINA","ARMENIA","ARUBA","AUSTRALIA","AUSTRIA","AZERBAIJAN","BAHAMAS","BAHRAIN","BANGLADESH","BARBADOS","BELGIUM","BENIN","BHUTAN","BOLIVIA","BOSNIA AND HERZEGOVINA","BRAZIL","BRUNEI DARUSSALAM","BULGARIA","BURKINA FASO","BURUNDI","CAMBODIA","CAMEROON","CANADA","CAPE VERDE","CENTRAL AFRICAN REPUBLIC","CHAD","CHILE","COLOMBIA","CONGO","COSTA RICA","COTE D'IVOIRE","CROATIA","CYPRUS","CZECH REPUBLIC","DENMARK","DOMINICAN REPUBLIC","EAST TIMOR","ECUADOR","EGYPT","EL SALVADOR","ERITREA","ESTONIA","FALKLAND ISLANDS","FINLAND","FRANCE","GABON","GAMBIA","GEORGIA","GERMANY","GHANA","GIBRALTAR","GREECE","GUADELOUPE","GUATEMALA","GUERNSEY","GUINEA","GUINEA-BISSAU","HAITI","HOLY SEE","HONDURAS","HONGKONG","HUNGARY","ICELAND","INDIA","IRELAND","ISLE OF MAN","ISRAEL","ITALY","JAMAICA","JAPAN","JERSEY","JORDAN","KAZAKHSTAN","KENYA","KUWAIT","KYRGYZSTAN","LAOS","LATVIA","LIECHTENSTEIN","LITHUANIA","LUXEMBOURG","MACAU","MADAGASCAR","MALAYSIA","MALDIVES","MALI","MALTA","MARTINIQUE","MAURITANIA","MAURITIUS","MAYOTTE","MEXICO","MONGOLIA","MONTENEGRO","MOROCCO","MOZAMBIQUE","MYANMAR","NEPAL","NETHERLANDS","NEW ZEALAND","NICARAGUA","NORWAY","OMAN","PALESTINE","PANAMA","PARAGUAY","PERU","PHILIPPINES","POLAND","PORTUGAL","QATAR","REPUBLIC OF MOLDOVA","REPUBLIC OF NORTH MACEDONIA","REUNION","ROMANIA","RWANDA","SAN MARINO","SAO TOME AND PRINCIPE","SAUDI ARABIA","SENEGAL","SERBIA","SINGAPORE","SLOVAKIA","SLOVENIA","SOUTH AFRICA","SOUTH KOREA","SPAIN","ST. HELENA","SWEDEN","SWITZERLAND","TAIWAN","TANZANIA","THAILAND","TRINIDAD AND TOBAGO","TURKEY","TUVALU","UGANDA","UKRAINE","UNITED ARAB EMIRATES","UNITED KINGDOM","UNITED STATES","URUGUAY","UZBEKISTAN","VANUATU","VENEZUELA","VIETNAM","ZAMBIA"
        ];

        // 표준화된 국가명 매핑 (다양한 표기법을 표준명으로 통일)
        const countryNameMapping = {
            // 홍콩 관련
            "HONG KONG SAR, CHINA": "HONGKONG",
            "HONG KONG": "HONGKONG",
            
            // 미국 관련
            "AMERICA": "UNITED STATES",
            "USA": "UNITED STATES",
            "US": "UNITED STATES",
            
            // 한국 관련
            "KOREA, REPUBLIC OF (SOUTH KOREA)": "KOREA, REPUBLIC OF",
            "KOREA, REPUBLIC OF": "SOUTH KOREA",
            
            // 라오스 관련
            "LAO PEOPLE'S DEMOCRATIC REPUBLIC": "LAOS",
            
            // 보스니아 관련
            "BOSNIA & HERZEGOVINA": "BOSNIA AND HERZEGOVINA",
            
            // 기타 표준화
            "COTE D IVOIRE": "COTE D'IVOIRE",
            "DOMINICAN REP": "DOMINICAN REPUBLIC",
            "CENTRAL AFRICAN": "CENTRAL AFRICAN REPUBLIC",
            "CONGO, DPR": "CONGO",
            "GUINEA REPUBLIC": "GUINEA",
            "GUYANA BRITISH": "GUYANA",
            "HOLY SEE (VATICAN CITY STATE)": "HOLY SEE",
            "REPUBLIC OF MOLDOVA": "MOLDOVA",
            "REPUBLIC OF NORTH MACEDONIA": "NORTH MACEDONIA",
            "TANZANIA, UNITED REPUBLIC OF": "TANZANIA",
            "VIRGIN ISLANDS (US)": "VIRGIN ISLANDS",
            "VIRGIN ISLANDS-US": "VIRGIN ISLANDS",
            "VIRGIN ISLANDS-BRITISH": "VIRGIN ISLANDS",
            "NORTHERN MARIANA ISLANDS(SAIPAN)": "NORTHERN MARIANA ISLANDS",
            "TURKS & CAICOS": "TURKS AND CAICOS"
        };

        // 국가명 표준화 함수
        function standardizeCountryName(countryName) {
            return countryNameMapping[countryName] || countryName;
        }

        // 사이트 매핑 생성
        const ecommerceSites = {};
        
        // 모든 국가 리스트를 표준화하여 처리
        const allCountryLists = [
            { list: oliveYoungCountries, site: { name: "OLIVE YOUNG Global", url: "https://global.oliveyoung.com/product/detail?prdtNo=GA240523586&dataSource=search_result" } },
            { list: styleKoreanCountries, site: { name: "StyleKorean", url: "https://www.stylekorean.com/shop/seapuri-scalpy-hair-serum-20ml/1747895040/" } },
            { list: yesStyleCountries, site: { name: "YesStyle", url: "https://www.yesstyle.com/en/seapuri-scalpy-hair-serum-20ml/info.html/pid.1134798547" } }
        ];

        // 각 사이트별 배송 가능 국가를 표준화된 이름으로 매핑
        allCountryLists.forEach(({ list, site }) => {
            list.forEach(country => {
                const standardName = standardizeCountryName(country);
                if (!ecommerceSites[standardName]) {
                    ecommerceSites[standardName] = [];
                }
                // 중복 사이트 추가 방지
                const existingSite = ecommerceSites[standardName].find(s => s.name === site.name);
                if (!existingSite) {
                    ecommerceSites[standardName].push(site);
                }
            });
        });

        // 특정 국가별 전용 사이트 추가
        const specialSites = [
            { country: "CANADA", name: "Kiyoko", url: "https://kiyoko.ca/products/seapuri-scalpy-hair-serum-20ml" },
            { country: "HONGKONG", name: "Seapuri(Hongkong)", url: "https://www.seapuri.hk/products/dr33-hair-ampoule" },
            { country: "UNITED STATES", name: "Seapuri(United States)", url: "https://seapuri.us/products/scalphy-hair-cooling-ampoule" },
            { country: "UNITED STATES", name: "Amazon(US)", url: "https://www.amazon.com/dp/B0DFH2BCD2?maas=maas_adg_7F2E935B39D2F1A0B1C22A0B035C505B_afap_abs&ref_=aa_maas&tag=maas" },
            { country: "UNITED STATES", name: "TikTok Shop", url: "https://www.tiktok.com/shop/pdp/seapuri-scalpy-hair-growth-serum-20ml-with-salicylic-acid-menthol/1730773311857791744?source=301" },
            { country: "UNITED KINGDOM", name: "Superdrug UK", url: "https://www.superdrug.com/search/seapuri" },
            { country: "UNITED KINGDOM", name: "Cosmetify UK", url: "https://www.cosmetify.com/seapuri/" },
            { country: "UNITED KINGDOM", name: "GlamTouch UK", url: "https://glamtouch.co.uk/products/seapuri-scalpy-hair-serum-20ml" }
        ];

        specialSites.forEach(({ country, name, url }) => {
            const standardCountry = standardizeCountryName(country);
            if (!ecommerceSites[standardCountry]) {
                ecommerceSites[standardCountry] = [];
            }
            // 중복 사이트 추가 방지
            const existingSite = ecommerceSites[standardCountry].find(s => s.name === name);
            if (!existingSite) {
                ecommerceSites[standardCountry].push({ name, url });
            }
        });

        // Shopee links for specific countries
        const shopeeLinks = [
            { country: "MALAYSIA", name: "Shopee Malaysia", url: "https://shopee.com.my/product/1023314269/27618063659/?cnsc_shop_id=1023314269&is_from_signup=true" },
            { country: "PHILIPPINES", name: "Shopee Philippines", url: "https://shopee.ph/product/1023314270/28075374847/?cnsc_shop_id=1023314270" },
            { country: "TAIWAN", name: "Shopee Taiwan", url: "https://shopee.tw/-Seapuri-%E9%9F%93%E5%9C%8B%E5%AE%98%E6%96%B9-Dr.33-%E9%A4%8A%E9%AB%AE%E7%B2%BE%E8%8F%AF-i.985100261.26922980629?sp_atk=2fe353f3-3a37-4a3e-b242-28646bc1b806" },
            { country: "SINGAPORE", name: "Shopee Singapore", url: "https://shopee.sg/-Seapuri-Official-Dr.33-Anti-Hair-Loss-Ampoule-Scalp-Health-Regrowth-AMB-Hair-Follicle-Regeneration-Root-Booster-No.1-Olive-Young-Korea-i.1021843590.27416150855?sp_atk=01373347-d0d6-4042-8b06-062277933364" },
            { country: "MEXICO", name: "Shopee Mexico", url: "https://shopee.com.mx/-Seapuri-Oficial-SCALPY-S%C3%A9rum-Capilar-Antica%C3%ADda-Salud-y-Crecimiento-del-Cuero-Cabelludo-i.1023314289.26037074063" },
            { country: "BRAZIL", name: "Shopee Brazil", url: "https://shopee.com.br/-Seapuri-Oficial-Scalpy-S%C3%A9rum-Antiqueda-Sa%C3%BAde-do-Couro-Cabeludo-e-Crescimento-Capilar-i.1023314286.42002392008" },
            { country: "VIETNAM", name: "Shopee Vietnam", url: "https://shopee.vn/-Seapuri-Official-SCALPY-Tinh-Ch%E1%BA%A5t-D%C6%B0%E1%BB%A1ng-T[%E2%80%A6]%C4%83ng-c%C6%B0%E1%BB%9Dng-g%E1%BB%91c-i.1023314273.26434871153" },
            { country: "THAILAND", name: "Shopee Thailand", url: "https://shopee.co.th/-Seapuri-Official-SCALPY-%E0%B9%80%E0%B8%8B%E0%B8%A3%E0%B8%B1%E0%B9%88%E0%B8%A1%E0%B8%9B%E0%B9%89%E0%B8%AD%E0%B8%87%E0%B8%81%E0%B8%B1%E0%B8%99%E0%B8%9C%E0%B8%A1%E0%B8%A3%E0%B9%88%E0%B8%A7%E0%B8%87-%E0%B8%AA%E0%B8%B8%E0%B8%82%E0%B8%A0%E0%B8%B2%E0%B8%9E%E0%B8%AB%E0%B8%99%E0%B8%B1%E0%B8%87%E0%B8%A8%E0%B8%B5%E0%B8%A3%E0%B8%A9%E0%B8%B0-%E0%B9%81%E0%B8%A5%E0%B8%B0%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B8%87%E0%B8%AD%E0%B8%81%E0%B9%83%E0%B8%AB%E0%B8%A1%E0%B9%88%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B9%80%E0%B8%AA%E0%B9%89%E0%B8%99%E0%B8%9C%E0%B8%A1-i.1023314276.40402310001" }
        ];

        shopeeLinks.forEach(link => {
            const standardCountry = standardizeCountryName(link.country);
            if (!ecommerceSites[standardCountry]) {
                ecommerceSites[standardCountry] = [];
            }
            // 중복 사이트 추가 방지
            const existingSite = ecommerceSites[standardCountry].find(s => s.name === link.name);
            if (!existingSite) {
                ecommerceSites[standardCountry].push({ name: link.name, url: link.url });
            }
        });

        // 별칭 매핑 (사용자 입력용)
        const countryAliases = {
            "AMERICA": "UNITED STATES",
            "USA": "UNITED STATES", 
            "US": "UNITED STATES",
            "HONG KONG": "HONGKONG"
        };

        // 사용자 입력을 표준화된 국가명으로 변환하는 함수
        function normalizeUserInput(input) {
            const upperInput = input.toUpperCase();
            // 먼저 별칭 확인
            if (countryAliases[upperInput]) {
                return countryAliases[upperInput];
            }
            // 직접 매칭 확인
            if (ecommerceSites[upperInput]) {
                return upperInput;
            }
            // 표준화 매핑 확인
            return standardizeCountryName(upperInput);
        }

        // Get references to DOM elements
        const form = document.getElementById('countryForm');
        const input = document.getElementById('countryInput');
        const resultsDiv = document.getElementById('results');

        // --- Autocomplete Dropdown ---
        // 표준화된 국가명만 자동완성에 표시 (중복 방지)
        const countryNames = Array.from(new Set(Object.keys(ecommerceSites)));
        
        // Create dropdown element
        const dropdown = document.createElement('div');
        dropdown.style.position = 'absolute';
        dropdown.style.background = '#fff';
        dropdown.style.border = '1px solid #cfd8dc';
        dropdown.style.borderRadius = '6px';
        dropdown.style.boxShadow = '0 2px 8px rgba(0,0,0,0.08)';
        dropdown.style.width = '100%';
        dropdown.style.zIndex = '1000';
        dropdown.style.display = 'none';
        dropdown.style.maxHeight = '180px';
        dropdown.style.overflowY = 'auto';
        dropdown.id = 'autocomplete-dropdown';
        input.parentNode.style.position = 'relative';
        input.parentNode.appendChild(dropdown);

        // Show suggestions (input 클릭 시 전체 리스트 노출)
        input.addEventListener('input', function() {
            showDropdown();
        });
        input.addEventListener('focus', function() {
            showDropdown();
        });
        function showDropdown() {
            const value = input.value.trim().toLowerCase();
            dropdown.innerHTML = '';
            // 검색어가 없으면 전체 리스트 노출
            const matches = value
                ? countryNames.filter(name => {
                    const words = name.toLowerCase().split(/[\s\.-]+/);
                    return (
                        name.toLowerCase().includes(value) ||
                        words.some(word => word.includes(value))
                    );
                })
                : countryNames;
            if (matches.length === 0) {
                dropdown.style.display = 'none';
                return;
            }
            matches.slice(0, 100).forEach(match => {
                const item = document.createElement('div');
                item.textContent = match;
                item.style.padding = '8px 12px';
                item.style.cursor = 'pointer';
                item.addEventListener('mousedown', function(e) {
                    e.preventDefault();
                    input.value = match;
                    dropdown.style.display = 'none';
                    input.focus();
                });
                dropdown.appendChild(item);
            });
            dropdown.style.display = 'block';
        }
        // Hide dropdown on blur (with slight delay for click)
        input.addEventListener('blur', function() {
            setTimeout(() => { dropdown.style.display = 'none'; }, 120);
        });
        // Keyboard navigation (기존 코드 유지)
        input.addEventListener('keydown', function(e) {
            const items = dropdown.querySelectorAll('div');
            if (!dropdown.style.display || items.length === 0) return;
            let idx = Array.from(items).findIndex(item => item.classList.contains('active'));
            if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (idx < items.length - 1) idx++;
                else idx = 0;
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (idx > 0) idx--;
                else idx = items.length - 1;
            } else if (e.key === 'Enter') {
                if (idx >= 0) {
                    e.preventDefault();
                    input.value = items[idx].textContent;
                    dropdown.style.display = 'none';
                }
            } else {
                return;
            }
            items.forEach((item, i) => {
                item.style.background = i === idx ? '#e0e7ef' : '#fff';
                item.classList.toggle('active', i === idx);
            });
        });

        // Handle form submission
        form.addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent page reload
            const userInput = input.value.trim();
            const normalizedInput = normalizeUserInput(userInput);
            resultsDiv.innerHTML = '';

            // Case-insensitive lookup for all countries
            const countryKey = Object.keys(ecommerceSites).find(
                key => key.toUpperCase() === normalizedInput
            );
            if (countryKey && ecommerceSites[countryKey]) {
                let sites = ecommerceSites[countryKey];
                // 우선순위 배열
                const priority = [
                  'amazon',
                  'seapuri',
                  'tiktok shop',
                  'shopee',
                  'stylekorean',
                  'olive young',
                  'kiyoko',
                  'superdrug',
                  'cosmetify',
                  'hongkong'
                ];
                // 우선순위에 따라 정렬
                sites = sites.slice().sort((a, b) => {
                  const aIdx = priority.findIndex(p => a.name.toLowerCase().includes(p));
                  const bIdx = priority.findIndex(p => b.name.toLowerCase().includes(p));
                  // 우선순위가 없으면 뒤로
                  return (aIdx === -1 ? 99 : aIdx) - (bIdx === -1 ? 99 : bIdx);
                });
                // Create a flex container for banners
                const bannerDiv = document.createElement('div');
                bannerDiv.style.display = 'flex';
                bannerDiv.style.flexWrap = 'wrap';
                bannerDiv.style.justifyContent = 'center';
                bannerDiv.style.gap = '18px';
                bannerDiv.style.marginTop = '18px';
                sites.forEach(site => {
                    const a = document.createElement('a');
                    a.href = site.url;
                    a.target = '_blank';
                    a.rel = 'noopener noreferrer';
                    a.style.display = 'inline-block';
                    a.style.background = '#fff';
                    a.style.borderRadius = '12px';
                    a.style.boxShadow = '0 2px 8px rgba(0,0,0,0.08)';
                    a.style.padding = '8px 16px';
                    a.style.margin = '0 0 8px 0';
                    a.style.minWidth = '120px';
                    a.style.minHeight = '60px';
                    a.style.maxWidth = '180px';
                    a.style.maxHeight = '80px';
                    a.style.display = 'flex';
                    a.style.alignItems = 'center';
                    a.style.justifyContent = 'center';
                    a.classList.add('banner-link');
                    // 이미지 파일명 매핑 (공백, 괄호, 대소문자 등 정리)
                    let imgName = site.name
                        .replace(/\(.*?\)/g, '') // 괄호 제거
                        .replace(/[^a-zA-Z0-9]/g, '') // 특수문자 제거
                        .toLowerCase() + '.png';
                    // 예외 처리 (Amazon(US) → amazon.png, Shopee Malaysia → shopee.png 등)
                    if (site.name.toLowerCase().includes('amazon')) imgName = 'amazon.png';
                    if (site.name.toLowerCase().includes('shopee')) imgName = 'shopee.png';
                    if (site.name.toLowerCase().includes('kiyoko')) imgName = 'kiyoko.png';
                    if (site.name.toLowerCase().includes('seapuri')) imgName = 'seapuri.png';
                    if (site.name.toLowerCase().includes('yesstyle')) imgName = 'yesstyle.png';
                    if (site.name.toLowerCase().includes('olive young')) imgName = 'oliveyoung.png';
                    if (site.name.toLowerCase().includes('tiktok')) imgName = 'tiktokshop.png';
                    if (site.name.toLowerCase().includes('superdrug')) imgName = 'SUPERDRUG.png';
                    if (site.name.toLowerCase().includes('cosmetify')) imgName = 'COMESTIFY.png';
                    if (site.name.toLowerCase().includes('glamtouch')) imgName = 'GLAMTOUCH.png';
                    // 이미지 엘리먼트 생성
                    const img = document.createElement('img');
                    img.src = imgName;
                    img.alt = site.name;
                    img.style.maxWidth = '140px';
                    img.style.maxHeight = '60px';
                    img.style.objectFit = 'contain';
                    img.style.background = 'transparent';
                    img.onerror = function() {
                        // 이미지가 없으면 텍스트로 대체
                        img.style.display = 'none';
                        const fallback = document.createElement('span');
                        fallback.textContent = site.name;
                        fallback.style.fontWeight = 'bold';
                        fallback.style.color = '#222';
                        fallback.style.fontSize = '1.1rem';
                        a.appendChild(fallback);
                    };
                    a.appendChild(img);
                    bannerDiv.appendChild(a);
                });
                resultsDiv.appendChild(bannerDiv);
            } else {
                // Show a message if no results found
                resultsDiv.innerHTML = '<div class="no-results">No e-commerce sites found for this country.</div>';
            }
        });
    </script>
</body>
</html> 
